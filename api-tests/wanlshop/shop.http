### WanlShop 店铺接口 API 测试
### 对应控制器: application/api/controller/wanlshop/Shop.php

### ========================================
### 环境变量
### ========================================
@baseUrl = http://grain.local.com
@apiPrefix = /api/wanlshop/shop
@shopToken = REPLACE_WITH_SHOP_OWNER_TOKEN
@userTokenNoShop = REPLACE_WITH_USER_WITHOUT_SHOP

### ========================================
### 1. 获取店铺列表（分页，默认按 id DESC）
### ========================================
GET {{baseUrl}}{{apiPrefix}}/lists
Content-Type: application/json

### ========================================
### 2. 关键字搜索（shopname/city 模糊匹配）
### ========================================
GET {{baseUrl}}{{apiPrefix}}/lists?search=南通
Content-Type: application/json

### ========================================
### 3. 过滤示例：仅企业店铺（state=1）
### ========================================
GET {{baseUrl}}{{apiPrefix}}/lists?filter={"state":"1"}&op={"state":"="}
Content-Type: application/json

### ========================================
### 4. 自定义排序：按权重倒序
### ========================================
GET {{baseUrl}}{{apiPrefix}}/lists?sort=weigh&order=DESC
Content-Type: application/json

### ========================================
### 5. 城市搜索（仅匹配 city 字段）
### ========================================
GET {{baseUrl}}{{apiPrefix}}/searchCity?search=南通
Content-Type: application/json

### ========================================
### 5.1 城市搜索（隐藏无已上架商品的店铺）
### 说明：已上架口径按 goods.status=normal（不要求库存>0）
### ========================================
GET {{baseUrl}}{{apiPrefix}}/searchCity?search=南通&hide_empty_goods=1
Content-Type: application/json

### ========================================
### 6. 获取单个店铺详情（getShopInfo）
### ========================================
GET {{baseUrl}}{{apiPrefix}}/getShopInfo?id=1
Content-Type: application/json

### ========================================
### 7. 获取当前登录用户的店铺信息（成功）
### 前置：token 为拥有店铺的用户
### ========================================
GET {{baseUrl}}{{apiPrefix}}/myshop
Content-Type: application/json
token: {{shopToken}}

### ========================================
### 8. 获取当前登录用户的店铺信息 - 无店铺用户
### 期望：返回错误（未找到此商家）
### ========================================
GET {{baseUrl}}{{apiPrefix}}/myshop
Content-Type: application/json
token: {{userTokenNoShop}}
